# ğŸš€ æ ¡å›­ç¤¾å›¢ç®¡ç†ç³»ç»Ÿ - å®Œæ•´å¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š
- âœ… Java 8 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- âœ… Maven 3.6+
- âœ… MySQL 8.0+
- âœ… Redis 6.0+

## æ­¥éª¤ 1ï¸âƒ£: æ•°æ®åº“åˆå§‹åŒ–

### 1.1 åˆ›å»ºæ•°æ®åº“å¹¶å¯¼å…¥è¡¨ç»“æ„

æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ–¹å¼ä¸€ï¼šä¸€è¡Œå‘½ä»¤æ‰§è¡Œ
mysql -u root -p110120Safety@ -e "CREATE DATABASE IF NOT EXISTS campus_club_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
mysql -u root -p110120Safety@ campus_club_system < /Users/caorui.li/Documents/school/CampusClubManaSys/Backend/database/1.sql

# æ–¹å¼äºŒï¼šç™»å½•MySQLäº¤äº’å¼æ‰§è¡Œ
mysql -u root -p110120Safety@
```

å¦‚æœä½¿ç”¨æ–¹å¼äºŒï¼Œåœ¨MySQLå‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š
```sql
CREATE DATABASE IF NOT EXISTS campus_club_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE campus_club_system;
SOURCE /Users/caorui.li/Documents/school/CampusClubManaSys/Backend/database/1.sql;
```

### 1.2 æ’å…¥æµ‹è¯•ç”¨æˆ·æ•°æ®

ç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¼å…¥æµ‹è¯•ç”¨æˆ·ï¼š

```bash
mysql -u root -p110120Safety@ campus_club_system < /Users/caorui.li/Documents/school/CampusClubManaSys/Backend/database/insert_test_users.sql
```

æˆ–è€…åœ¨MySQLå‘½ä»¤è¡Œä¸­ï¼š
```sql
SOURCE /Users/caorui.li/Documents/school/CampusClubManaSys/Backend/database/insert_test_users.sql;
```

### 1.3 éªŒè¯æ•°æ®åº“åˆ›å»ºæˆåŠŸ

```bash
mysql -u root -p110120Safety@ -e "USE campus_club_system; SHOW TABLES;"
mysql -u root -p110120Safety@ -e "USE campus_club_system; SELECT username, real_name, role FROM users;"
```

é¢„æœŸè¾“å‡ºåº”è¯¥åŒ…å«ï¼šadmin, student1, student2, teacher1, clubadmin1 ç­‰ç”¨æˆ·ã€‚

## æ­¥éª¤ 2ï¸âƒ£: å¯åŠ¨ Redis

æ£€æŸ¥ Redis æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š

```bash
redis-cli ping
```

å¦‚æœè¿”å› `PONG`ï¼Œè¯´æ˜ Redis å·²å¯åŠ¨ã€‚

å¦‚æœ Redis æœªå¯åŠ¨ï¼Œæ‰§è¡Œï¼š

```bash
# macOS (ä½¿ç”¨ Homebrew å®‰è£…çš„ Redis)
brew services start redis

# æˆ–è€…ç›´æ¥å¯åŠ¨
redis-server &
```

## æ­¥éª¤ 3ï¸âƒ£: å¯åŠ¨å¾®æœåŠ¡

ä½¿ç”¨æä¾›çš„å¯åŠ¨è„šæœ¬å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š

```bash
cd /Users/caorui.li/Documents/school/CampusClubManaSys
bash quick_start.sh
```

### æœåŠ¡å¯åŠ¨é¡ºåºå’Œç«¯å£

è„šæœ¬ä¼šæŒ‰ä»¥ä¸‹é¡ºåºå¯åŠ¨æœåŠ¡ï¼š

1. **Registry Server (Eureka)** - ç«¯å£ 8761ï¼ˆç­‰å¾… 15 ç§’ï¼‰
2. **API Gateway** - ç«¯å£ 8080ï¼ˆç­‰å¾… 10 ç§’ï¼‰
3. **Auth Service** - ç«¯å£ 8081
4. **User Service** - ç«¯å£ 8002
5. **Club Service** - ç«¯å£ 8003
6. **Activity Service** - ç«¯å£ 8005
7. **Message Service** - ç«¯å£ 8006
8. **Stats Service** - ç«¯å£ 8004

â±ï¸ **æ³¨æ„**ï¼šæ‰€æœ‰æœåŠ¡å®Œå…¨å¯åŠ¨å¯èƒ½éœ€è¦ 2-3 åˆ†é’Ÿã€‚

## æ­¥éª¤ 4ï¸âƒ£: éªŒè¯æœåŠ¡å¯åŠ¨

### 4.1 æŸ¥çœ‹ Eureka æ³¨å†Œä¸­å¿ƒ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

```
http://localhost:8761
```

ç­‰å¾…æ‰€æœ‰æœåŠ¡æ³¨å†ŒæˆåŠŸï¼ˆçº¦ 1-2 åˆ†é’Ÿï¼‰ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æœåŠ¡ï¼š
- AUTH-SERVICE
- USER-SERVICE
- CLUB-SERVICE
- ACTIVITY-SERVICE
- MESSAGE-SERVICE
- STATS-SERVICE
- API-GATEWAY

### 4.2 æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€

```bash
# æ£€æŸ¥ API Gateway
curl http://localhost:8080/actuator/health

# æ£€æŸ¥ Auth Service
curl http://localhost:8081/actuator/health
```

## æ­¥éª¤ 5ï¸âƒ£: æµ‹è¯•ç™»å½•åŠŸèƒ½

### 5.1 ä½¿ç”¨ curl æµ‹è¯•ç™»å½•

```bash
# æµ‹è¯•ç®¡ç†å‘˜ç™»å½•
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "123456"
  }'

# æµ‹è¯•å­¦ç”Ÿç™»å½•
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "student1",
    "password": "123456"
  }'
```

### 5.2 é¢„æœŸå“åº”

æˆåŠŸç™»å½•åï¼Œæ‚¨åº”è¯¥æ”¶åˆ°ç±»ä¼¼ä»¥ä¸‹çš„å“åº”ï¼š

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "accessToken": "eyJhbGciOiJIUzI1NiJ9...",
    "refreshToken": "eyJhbGciOiJIUzI1NiJ9...",
    "expiresIn": 86400,
    "userInfo": {
      "id": 1,
      "username": "admin",
      "name": "ç³»ç»Ÿç®¡ç†å‘˜",
      "role": "ADMIN",
      "avatar": null
    }
  }
}
```

## ğŸ“ æµ‹è¯•è´¦å·ä¿¡æ¯

ç³»ç»Ÿå·²é¢„ç½®ä»¥ä¸‹æµ‹è¯•è´¦å·ï¼Œé»˜è®¤å¯†ç éƒ½æ˜¯ï¼š**123456**

| ç”¨æˆ·å | å§“å | è§’è‰² | è¯´æ˜ |
|--------|------|------|------|
| admin | ç³»ç»Ÿç®¡ç†å‘˜ | ADMIN | ç³»ç»Ÿç®¡ç†å‘˜è´¦å· |
| student1 | å¼ ä¸‰ | STUDENT | å­¦ç”Ÿè´¦å· |
| student2 | æå›› | STUDENT | å­¦ç”Ÿè´¦å· |
| teacher1 | åˆ˜è€å¸ˆ | TEACHER | æ•™å¸ˆè´¦å· |
| clubadmin1 | èµµç¤¾é•¿ | CLUB_ADMIN | ç¤¾å›¢ç®¡ç†å‘˜è´¦å· |

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: æ•°æ®åº“è¿æ¥å¤±è´¥

**ç°è±¡**ï¼šæœåŠ¡å¯åŠ¨æ—¶æŠ¥é”™ `Communications link failure`

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ MySQL æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š`mysql -u root -p110120Safety@ -e "SELECT 1;"`
2. ç¡®è®¤å¯†ç æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥ MySQL æ˜¯å¦ç›‘å¬åœ¨ 3306 ç«¯å£ï¼š`lsof -i :3306`

### é—®é¢˜ 2: Redis è¿æ¥å¤±è´¥

**ç°è±¡**ï¼šæœåŠ¡å¯åŠ¨æ—¶æŠ¥é”™ `Unable to connect to Redis`

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Redis æ˜¯å¦è¿è¡Œï¼š`redis-cli ping`
2. å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨ Redisï¼š`redis-server &`

### é—®é¢˜ 3: ç«¯å£è¢«å ç”¨

**ç°è±¡**ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œæç¤ºç«¯å£å·²è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼ˆä¾‹å¦‚ 8080ï¼‰
lsof -i :8080

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### é—®é¢˜ 4: æœåŠ¡æ³¨å†Œå¤±è´¥

**ç°è±¡**ï¼šæœåŠ¡æ— æ³•æ³¨å†Œåˆ° Eureka

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿ Registry Server (8761) å…ˆå¯åŠ¨
2. ç­‰å¾…è‡³å°‘ 15 ç§’åå†å¯åŠ¨å…¶ä»–æœåŠ¡
3. æ£€æŸ¥ Eureka æ§åˆ¶å°ï¼šhttp://localhost:8761

### é—®é¢˜ 5: Maven ç¼–è¯‘å¤±è´¥

**ç°è±¡**ï¼š`mvn spring-boot:run` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
cd /Users/caorui.li/Documents/school/CampusClubManaSys/Backend
mvn clean install -DskipTests
```

## ğŸ›‘ åœæ­¢æœåŠ¡

è¦åœæ­¢æ‰€æœ‰æœåŠ¡ï¼Œæ‚¨å¯ä»¥ï¼š

### æ–¹å¼ä¸€ï¼šæŸ¥æ‰¾å¹¶æ€æ­»æ‰€æœ‰ Java è¿›ç¨‹

```bash
# æŸ¥æ‰¾æ‰€æœ‰ Maven ç›¸å…³çš„ Java è¿›ç¨‹
ps aux | grep "spring-boot:run"

# æ‰¹é‡æ€æ­»
pkill -f "spring-boot:run"
```

### æ–¹å¼äºŒï¼šä½¿ç”¨è„šæœ¬ï¼ˆåˆ›å»ºä¸€ä¸ªåœæ­¢è„šæœ¬ï¼‰

```bash
# åˆ›å»º stop_all.sh
cat > /Users/caorui.li/Documents/school/CampusClubManaSys/stop_all.sh << 'EOF'
#!/bin/bash
echo "ğŸ›‘ Stopping all services..."
pkill -f "spring-boot:run"
echo "âœ… All services stopped"
EOF

chmod +x /Users/caorui.li/Documents/school/CampusClubManaSys/stop_all.sh
bash /Users/caorui.li/Documents/school/CampusClubManaSys/stop_all.sh
```

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—

å¦‚æœæœåŠ¡å¯åŠ¨æœ‰é—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æŸä¸ªæœåŠ¡çš„æ—¥å¿—
cd /Users/caorui.li/Documents/school/CampusClubManaSys/Backend/auth-service
tail -f logs/auth-service.log

# æˆ–æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
# å¦‚æœä½¿ç”¨ quick_start.sh å¯åŠ¨ï¼Œæ—¥å¿—ä¼šè¾“å‡ºåˆ°ç»ˆç«¯
```

## ğŸ¯ ä¸‹ä¸€æ­¥

æœåŠ¡å¯åŠ¨æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š

1. è®¿é—® Eureka æ§åˆ¶å°æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼šhttp://localhost:8761
2. ä½¿ç”¨ Postman æˆ–å…¶ä»– API å·¥å…·æµ‹è¯•å„ä¸ªæ¥å£
3. å¼€å‘å‰ç«¯åº”ç”¨ï¼Œè°ƒç”¨åç«¯ API

## ğŸ“ API ç½‘å…³åœ°å€

æ‰€æœ‰ API è¯·æ±‚éƒ½é€šè¿‡ API Gateway è®¿é—®ï¼š

```
http://localhost:8080/api/{service-name}/{endpoint}
```

ä¾‹å¦‚ï¼š
- ç™»å½•ï¼š`POST http://localhost:8080/api/auth/login`
- è·å–ç”¨æˆ·ä¿¡æ¯ï¼š`GET http://localhost:8080/api/user/profile`
- è·å–ç¤¾å›¢åˆ—è¡¨ï¼š`GET http://localhost:8080/api/club/list`

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

